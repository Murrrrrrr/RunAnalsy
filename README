src/data/bridge.py
输入：杂乱的 .npy 原始骨骼文件。
清洗：扔掉 2D 数据，扔掉损坏的数据。
对齐：把时间（FPS）对齐到 60Hz，把空间（XYZ）旋转到物理坐标系，把高度（Z）对齐到地面。
增强：利用启发式算法（高度+速度阈值）自动生成触地标签（Labels），解决了有视频没标签的问题。
输出：清洗后的质心轨迹 (center_mass) 和 触地标签 (labels)，供 train.py 训练 LNN 模型使用。
如果有哪一行逻辑你觉得不合理，或者想修改阈值（比如 0.08m 的触地判定高度），都在这里改。


src/data/dataset.py
1.鲁棒性训练 (Robustness)：
通过 augment=True 加入噪声，模型被迫学习即使在输入轨迹（及其导数加速度）非常抖动、不准确的情况下，依然能依靠 labels（从干净数据生成的）预测出准确的步态相位。
这模拟了真实世界中 MediaPipe 这种视觉算法经常出现的抖动问题。

2.在线计算 (On-the-fly Calculation)：
它没有把 IMU 数据存成文件，而是每次训练时实时算出来。
优点：节省硬盘空间；每次 epoch 产生的噪声都不一样，相当于拥有了无限的数据量，防止过拟合。
缺点：会增加 CPU 的负担（每次都要跑物理微分计算）。

职责分离：
DataBridge 负责怎么读文件、怎么修坐标系。
Dataset 负责怎么加噪声、怎么生成对应神经网络输入的 Tensor。
为LNN 提供“(带噪)输入 -> (干净)输出”的训练对。